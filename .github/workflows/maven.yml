name: Java Build with Maven

# This tells GitHub to run the workflow every time you push to the master branch
on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  build:
    # Spins up a fresh Ubuntu Linux virtual machine
    runs-on: ubuntu-latest

    steps:
    # Step 1: Grabs your code from the GitHub repository
    - name: Checkout Repository
      uses: actions/checkout@v4

    # Step 2: Installs Java Development Kit (JDK) 17
    - name: Set up JDK 17
      uses: actions/setup-java@v4
      with:
        java-version: '23.0.1'
        distribution: 'temurin'
        cache: maven # Caches dependencies to speed up future builds

    # Step 3: Makes the Maven wrapper script executable (required for Linux runners)
    - name: Make Maven Wrapper Executable
      run: chmod +x ./mvnw

    # Step 4: Builds the project and runs any tests
    - name: Build with Maven
      run: ./mvnw -B clean install